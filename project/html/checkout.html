<!DOCTYPE html>
<html lang="no">
<head>
    <title>Bestilling</title>
    <meta charset="utf-8">
    <meta property="og:title" content="Chartertur Divine"/>
    <meta name="description" content="Billige charterturer"/>
    <meta name="keywords" content="Chartertur, Spania, Italia, Tyrkia, Hellas"/>
    <meta name="author" content="Snorre Strand, Julie Solem & Yvonne Soltveit"/>
    <meta property="og:description" content="Billige charterturer til fire destinasjoner"/>
    <meta property="og:image" content="../res/logo.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">


    <!-- Iconer fra fontawesome og material -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.standalone.min.css"
          rel="stylesheet">


    <link href="../css/mainStyleSheet.css" rel="stylesheet" type="text/css"/>
</head>
<body class="bg-light">
<!-- Navbar blir initialisert on load -->
<div id="nav-placeholder"></div>

<div class="container">
    <div class="row">
        <!-- Shopping liste -->
        <div class="col-md-4 order-md-2 mb-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-muted">Din bestilling</span>
                <span class="badge badge-secondary badge-pill">2</span>
            </h4>
            <ul class="list-group mb-3">
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">Sted</h6>
                        <small class="text-muted" id="stedNavn"></small>
                    </div>
                    <span class="text-muted" id="stedPris"></span>
                </li>
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">Fly/retur</h6>
                        <small class="text-muted" id="reiseNavn"></small>
                    </div>
                    <span class="text-muted" id="reisePris"></span>
                </li>
            </ul>
            <ul class="list-group mb-3" id="vaskeSelvPris">
                <li class="list-group-item d-flex justify-content-between bg-light">
                    <div class="text-danger">
                        <h6 class="my-0">Vaskehjelp</h6>
                        <small>Trenger ikke å vaske rommet</small>
                    </div>
                    <span class="text-danger">150 kr</span>
                </li>
            </ul>
            <ul class="list-group mb-3" id="loggetInnBonus">
                <li class="list-group-item d-flex justify-content-between bg-light">
                    <div class="text-success">
                        <h6 class="my-0">Medlemm bonus</h6>
                        <small>20% rabatt på totalprisen</small>
                    </div>
                    <span class="text-success">- 20%</span>
                </li>
            </ul>
            <ul class="list-group mb-3">
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total pris</span>
                    <strong id="totalPris"></strong>
                </li>
            </ul>
            <div id="loggInnListe" class="card p-2">
                <p>Bli medlem for å få 20% rabatt</p>
                <a id="loginBtn" href="http://folk.ntnu.no/snorreks/wu1/prosjekt/html/registrer.html"
                   class="btn btn-primary">Registrer ny bruker</a>
            </div>
        </div>

        <!--Adresse form -->
        <div class="col-md-8 order-md-1">
            <h4 class="mb-3">Fakturaadresse</h4>
            <form method="post" class="needs-validation"
                  action="http://www.iie.ntnu.no/fag/webutvikling1/prosjekt/behandle.php" novalidate>
                <div class="row">
                    <div class="col-md-6">
                        <label for="fornavn">Fornavn</label>
                        <input type="text" id="fornavn" name="fornavn" class="form-control" placeholder="Fornavn"
                               required onblur="return validateFornavn()">
                        <div class="invalid-feedback" id="feilfornavn">
                            Vennligst oppgi et gyldig fornavn.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="etternavn">Etternavn</label>
                        <input type="text" id="etternavn" name="etternavn" class="form-control" placeholder="Etternavn"
                               required onblur="return validateEtternavn()">
                        <div class="invalid-feedback" id="feiletternavn">
                            Vennligst oppgi et gyldig etternavn
                        </div>
                    </div>
                </div>
                <div class="md-3" id="epost">
                    <label for="email">E-post <span class="text-muted">(Valgfritt)</span></label>
                    <input type="email" name="epost" class="form-control" id="email" placeholder="test@eksempel.com">
                    <div class="invalid-feedback">
                        Vennligst tast inn en gyldig e-postadresse.
                    </div>
                </div>
                <div class="md-3">
                    <label for="adress">Adresse</label>
                    <input type="text" class="form-control" name="adresse" id="adress" placeholder="Gatenavn 123"
                           required>
                    <div class="invalid-feedback">
                        Vennligst tast inn en gyldig adresse.
                    </div>
                </div>
                <div class="md-3">
                    <label for="mobilnr">Mobilnummer</label>
                    <input type="text" class="form-control" name="mobilnr" id="mobilnr" placeholder="12345678" required>
                    <div class="invalid-feedback">
                        Vennligst tast inn en gyldig adresse.
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <label for="postSted">Poststed</label>
                        <input type="text" class="form-control" name="postSted" id="postSted" required>
                        <div class="invalid-feedback">
                            Vennligst tast inn et gyldig poststed.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="postnummer">Postnummer</label>
                        <input type="text" class="form-control" name="postnummer" id="postnummer" required>
                        <div class="invalid-feedback">
                            Vennligst tast inn et gyldig postnummer.
                        </div>
                    </div>
                </div>
                <hr class="mb-4">

                <!-- Checkboxer for kvittering, lagre infomarsjon og vaske selv -->
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="same-address">
                    <label class="custom-control-label" for="same-address">Få kvittering på email</label>
                </div>
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="save-info">
                    <label class="custom-control-label" for="save-info">Lagre informasjonen til neste gang</label>
                </div>
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="vaskeSelvCheck">
                    <label class="custom-control-label" for="vaskeSelvCheck" onclick="vaskeSelvCheck()">Vaske
                        selv</label>
                </div>
                <hr class="mb-4">


                <!-- Betaling -->

                <h4 class="mb-3">Betaling</h4>
                <div class="d-block my-3">
                    <h5>Betalingsmåte</h5>
                    <div class="custom-control custom-radio">
                        <input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked
                               required>
                        <label class="custom-control-label" for="credit"> Kreditt-/bankkort <i
                                class="fa fa-cc-visa fa-2x"></i> <i class="fa fa-cc-amex fa-2x"> <i
                                class="fa fa-cc-jcb fa-1x"></i></i></label>
                    </div>
                    <br>
                    <div class="custom-control custom-radio">
                        <input id="paypal" name="paymentMethod" type="radio" class="custom-control-input" required>
                        <label class="custom-control-label" for="paypal">Paypal <i
                                class="fa fa-cc-paypal fa-2x"></i></label>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="korteierensNavn">Korteierens navn</label>
                        <input type="text" class="form-control" id="korteierensNavn" name="korteierensNavn" required>
                        <small class="text-muted">Full name as displayed on card</small>
                        <div class="invalid-feedback">
                            Vennligst oppgi navn på kortinnehaveren.
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="kortnummer">Kreditt-/bankkortnummer</label>
                        <input type="text" class="form-control" id="kortnummer" name="kortnummer" placeholder=""
                               required>
                        <div class="invalid-feedback">
                            Vennligst tast inn gyldig kredittkortnummer.
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <label for="datepicker">Utløpsdato</label>
                        <input type="text" class="form-control" id="datepicker" name="utløpsdato" required>
                        <div class="invalid-feedback">
                            Vennligst tast inn gyldig utløpsdato.
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="cvckode">CVC/CVV</label>
                        <input type="text" class="form-control" id="cvckode" name="cvckode" required>
                        <div class="invalid-feedback">
                            Vennligst tast inn gyldig CVC-kode.
                        </div>
                    </div>
                </div>
                <hr class="mb-4">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="samtykker" required>
                    <label class="custom-control-label" for="samtykker">Jeg samtykker til personvernerklæring og
                        generelle vilkår ved å bestille dette rommet.</label>
                </div>
                <br>
                <button class="btn btn-primary btn-lg btn-block" type="submit">Bestill reise</button>
            </form>
            <a href="index.html" class="btn btn-block btn-secondary" id="cancelBtn">Avbryt </a>
        </div>
    </div>
</div>

<!-- footer blir initialisert on load -->
<div id="footer-placeholder"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js"></script>
<script src="../js/mainScript.js"></script>
<script src="../js/formScript.js"></script>


<script>
    let reisePris = localStorage.getItem("bestillReisePris");
    let stedPris = localStorage.getItem("bestillStedPris");
    let skalVaskeSelv = 1;

    function vaskeSelvCheck() {
        let text = document.getElementById("vaskeSelvPris");
        let vaskeSelv = document.getElementById("vaskeSelvCheck");
        if (vaskeSelv.checked) {
            text.style.display = "block";
            skalVaskeSelv = 1;
        } else {
            text.style.display = "none";
            skalVaskeSelv = 0;
        }
        regnUtTotalPris();
    }

    function regnUtTotalPris() {
        let totalPris = parseInt(reisePris) + parseInt(stedPris);
        if (skalVaskeSelv) {
            totalPris += 150;
        }
        if (localStorage.getItem("innlogget") || sessionStorage.getItem("innlogget")) {
            totalPris -= totalPris * .2;
        }
        $("#totalPris").text(totalPris + ' kr');
    }

    $(function () {
        $("#reiseNavn").text(localStorage.getItem("bestillReise"));
        $("#reisePris").text(reisePris + ' kr');
        $("#stedNavn").text(localStorage.getItem("bestillSted"));
        $("#stedPris").text(stedPris + ' kr');

        if (localStorage.getItem("innlogget") || sessionStorage.getItem("innlogget")) {
            $("#loggInnListe").hide();
            $("#epost").hide();
        } else {
            $("#loggetInnBonus").hide();
        }
        regnUtTotalPris();
    });
    $('#datepicker').datepicker({
        minDate: 0
    });
</script>
</body>
</html>